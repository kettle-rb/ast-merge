<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: TODO-SMART-MERGER-STANDARDIZATION
  
    &mdash; Documentation by YARD 0.9.38
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "TODO-SMART-MERGER-STANDARDIZATION";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: TODO-SMART-MERGER-STANDARDIZATION</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'><h1 id="todo-smartmergerbase-standardization">TODO: SmartMergerBase Standardization</h1>

<p>This document tracks the work needed to standardize all <code>*-merge</code> gems to use <code>Ast::Merge::SmartMergerBase</code>.</p>

<h2 id="current-status-summary">Current Status Summary</h2>

<table>
  <thead>
    <tr>
      <th>Gem</th>
      <th>Inherits SmartMergerBase</th>
      <th>Has node_typing</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>json-merge</td>
      <td>✅ Yes</td>
      <td>✅ Yes</td>
      <td><strong>DONE</strong></td>
    </tr>
    <tr>
      <td>toml-merge</td>
      <td>✅ Yes</td>
      <td>✅ Yes</td>
      <td><strong>DONE</strong></td>
    </tr>
    <tr>
      <td>psych-merge</td>
      <td>✅ Yes</td>
      <td>✅ Yes</td>
      <td><strong>DONE</strong></td>
    </tr>
    <tr>
      <td>jsonc-merge</td>
      <td>✅ Yes</td>
      <td>✅ Yes</td>
      <td>
<strong>DONE</strong> (refactored)</td>
    </tr>
    <tr>
      <td>bash-merge</td>
      <td>✅ Yes</td>
      <td>✅ Yes</td>
      <td>
<strong>DONE</strong> (refactored)</td>
    </tr>
    <tr>
      <td>rbs-merge</td>
      <td>✅ Yes</td>
      <td>✅ Yes</td>
      <td>
<strong>DONE</strong> (refactored)</td>
    </tr>
    <tr>
      <td>dotenv-merge</td>
      <td>✅ Yes</td>
      <td>✅ Yes</td>
      <td>
<strong>DONE</strong> (refactored)</td>
    </tr>
    <tr>
      <td>markdown-merge</td>
      <td>✅ Yes (own base)</td>
      <td>✅ Yes</td>
      <td>
<strong>DONE</strong> (fixed apply_node_typing)</td>
    </tr>
    <tr>
      <td>markly-merge</td>
      <td>✅ Yes (via markdown-merge)</td>
      <td>✅ Yes</td>
      <td><strong>DONE</strong></td>
    </tr>
    <tr>
      <td>commonmarker-merge</td>
      <td>✅ Yes (via markdown-merge)</td>
      <td>✅ Yes</td>
      <td><strong>DONE</strong></td>
    </tr>
    <tr>
      <td>prism-merge</td>
      <td>✅ Yes</td>
      <td>✅ Yes</td>
      <td><strong>DONE</strong></td>
    </tr>
  </tbody>
</table>

<h2 id="-all-refactoring-complete">✅ ALL REFACTORING COMPLETE</h2>

<p>All <code>*-merge</code> gems now inherit from <code>Ast::Merge::SmartMergerBase</code> (or markdown-merge’s SmartMergerBase for markdown variants).</p>

<h2 id="features-now-available-in-all-gems">Features Now Available in All Gems</h2>

<p>All SmartMerger implementations now support:</p>

<ol>
  <li>
<strong>Standard Options</strong>:
    <ul>
      <li>
<code>preference</code> - <code>:destination</code>, <code>:template</code>, or Hash for per-type preferences</li>
      <li>
<code>add_template_only_nodes</code> - Whether to add template-only content</li>
      <li>
<code>signature_generator</code> - Custom signature matching</li>
      <li>
<code>freeze_token</code> - Freeze block markers</li>
      <li>
<code>match_refiner</code> - Fuzzy matching support</li>
      <li>
<code>regions</code> - Nested content merging</li>
      <li>
<code>region_placeholder</code> - Custom region markers</li>
      <li>
<code>node_typing</code> - Per-node-type merge preferences</li>
    </ul>
  </li>
  <li>
<strong>Consistent API</strong>:
    <ul>
      <li>
<code>merge</code> - Returns merged content as String</li>
      <li>
<code>merge_result</code> - Returns full MergeResult object</li>
    </ul>
  </li>
  <li>
<strong>Debug Support</strong>:
    <ul>
      <li>Timing via DebugLogger</li>
      <li>Consistent error handling</li>
    </ul>
  </li>
  <li>
<strong>Region Merging</strong>:
    <ul>
      <li>Via <code>RegionMergeable</code> mixin</li>
      <li>Supports nested regions</li>
    </ul>
  </li>
  <li>
<strong>Future-Proofing</strong>:
    <ul>
      <li>Bug fixes automatically apply to all inheriting gems</li>
      <li>New features are immediately available</li>
    </ul>
  </li>
</ol>

<h2 id="changelogs-updated">CHANGELOGs Updated</h2>

<p>All gems have been updated with appropriate CHANGELOG entries documenting:</p>
<ul>
  <li>New parameters added (<code>node_typing</code>, <code>regions</code>, <code>match_refiner</code>, etc.)</li>
  <li>Breaking change: SmartMerger now inherits from SmartMergerBase</li>
  <li>Any format-specific parameters that are still supported</li>
</ul>

<h2 id="testing-recommendations">Testing Recommendations</h2>

<p>After these changes, each gem should be tested to verify:</p>
<ol>
  <li>Existing tests still pass</li>
  <li>New <code>node_typing</code> parameter works correctly</li>
  <li>Hash <code>preference</code> with per-type values works correctly</li>
  <li>Freeze blocks still work</li>
  <li>Any format-specific features still work (e.g., <code>max_recursion_depth</code> for rbs-merge)</li>
</ol>

<h2 id="notes-on-removed-parameters">Notes on Removed Parameters</h2>

<ul>
  <li>
<strong>bash-merge <code>parser_path</code></strong>: Removed from SmartMerger as it was vestigial.<br>
Use <code>TREE_SITTER_BASH_PATH</code> environment variable instead (handled by tree_haver’s GrammarFinder).<br>
<code>FileAnalysis</code> still accepts <code>parser_path</code> for low-level usage if needed.</li>
</ul>
</div></div>

      <div id="footer">
  Generated on Sun Dec 28 16:22:19 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.38 (ruby-4.0.0).
</div>

    </div>
  </body>
</html>